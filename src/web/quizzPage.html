<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>
        .hideAnswers{display:none;}
        .wrongAnswer{color:red}
    </style>
</head>
<body>
<h1>Quizz</h1>
<div id="questionsHolder">
<div id="questions"><p id="pq1">1. 海<br/><input id="1- sea；ocean " name="q1" type="radio" value=" sea；ocean "/><label for="1- sea；ocean "> sea；ocean </label>    <input id="1-topic;subject" name="q1" type="radio" value="topic;subject"/><label for="1-topic;subject">topic;subject</label>    <input id="1- figure；form；shape " name="q1" type="radio" value=" figure；form；shape "/><label for="1- figure；form；shape "> figure；form；shape </label>    <input id="1-oneself" name="q1" type="radio" value="oneself"/><label for="1-oneself">oneself</label>    </p><p id="pq2">2. 姿<br/><input id="2- figure；form；shape " name="q2" type="radio" value=" figure；form；shape "/><label for="2- figure；form；shape "> figure；form；shape </label>    <input id="2-question;ask;problem" name="q2" type="radio" value="question;ask;problem"/><label for="2-question;ask;problem">question;ask;problem</label>    <input id="2-oneself" name="q2" type="radio" value="oneself"/><label for="2-oneself">oneself</label>    <input id="2- sea；ocean " name="q2" type="radio" value=" sea；ocean "/><label for="2- sea；ocean "> sea；ocean </label>    </p><p id="pq3">3. 自<br/><input id="3-oneself" name="q3" type="radio" value="oneself"/><label for="3-oneself">oneself</label>    <input id="3-sombody;persoｎ" name="q3" type="radio" value="sombody;persoｎ"/><label for="3-sombody;persoｎ">sombody;persoｎ</label>    <input id="3-topic;subject" name="q3" type="radio" value="topic;subject"/><label for="3-topic;subject">topic;subject</label>    <input id="3-question;ask;problem" name="q3" type="radio" value="question;ask;problem"/><label for="3-question;ask;problem">question;ask;problem</label>    </p><p id="pq4">4. 問<br/><input id="4- sea；ocean " name="q4" type="radio" value=" sea；ocean "/><label for="4- sea；ocean "> sea；ocean </label>    <input id="4-question;ask;problem" name="q4" type="radio" value="question;ask;problem"/><label for="4-question;ask;problem">question;ask;problem</label>    <input id="4- figure；form；shape " name="q4" type="radio" value=" figure；form；shape "/><label for="4- figure；form；shape "> figure；form；shape </label>    <input id="4-sombody;persoｎ" name="q4" type="radio" value="sombody;persoｎ"/><label for="4-sombody;persoｎ">sombody;persoｎ</label>    </p><p id="pq5">5. 身<br/><input id="5-sombody;persoｎ" name="q5" type="radio" value="sombody;persoｎ"/><label for="5-sombody;persoｎ">sombody;persoｎ</label>    <input id="5- figure；form；shape " name="q5" type="radio" value=" figure；form；shape "/><label for="5- figure；form；shape "> figure；form；shape </label>    <input id="5-topic;subject" name="q5" type="radio" value="topic;subject"/><label for="5-topic;subject">topic;subject</label>    <input id="5-question;ask;problem" name="q5" type="radio" value="question;ask;problem"/><label for="5-question;ask;problem">question;ask;problem</label>    </p><p id="pq6">6. 題<br/><input id="6-question;ask;problem" name="q6" type="radio" value="question;ask;problem"/><label for="6-question;ask;problem">question;ask;problem</label>    <input id="6-oneself" name="q6" type="radio" value="oneself"/><label for="6-oneself">oneself</label>    <input id="6-topic;subject" name="q6" type="radio" value="topic;subject"/><label for="6-topic;subject">topic;subject</label>    <input id="6- sea；ocean " name="q6" type="radio" value=" sea；ocean "/><label for="6- sea；ocean "> sea；ocean </label>    </p><input id="answersList" type="hidden" value=" sea；ocean --- figure；form；shape ---oneself---question;ask;problem---sombody;persoｎ---topic;subject"/><input id="totalQuestions" type="hidden" value="6"/></div>
<button id="validate" onclick="validate()">Validate Answers</button>
<p id="score"></p>
<button id="displayAnswers" onclick="showAnswers()">Display Answeres</button>
</div>
<div class="hideAnswers" id="answersHolder">
</div>
<script>
    function validate(){
        var scorePara = document.getElementById("score");
        var total = document.getElementById("totalQuestions").value;
        var answersList = document.getElementById("answersList").value.split("---");
        var score = 0;

        for(var i = 1; i<=total; i++){
            var answers = document.getElementsByName("q"+i);
            var correct = false;
            for(var j = 0; j<answers.length; j++){
                if(answers[j].checked == true && answersList[i-1]== answers[j].value){
                    correct=true;
                    score++;
                    break;
                }
            }
            if(!correct){
                document.getElementById("pq"+i).className="wrongAnswer";
            }
            else if(correct && document.getElementById("pq"+i).className=="wrongAnswer" ){
                document.getElementById("pq"+i).className=""
            }
        }

        scorePara.innerHTML = "<h4>"+score+"/"+total+"</h4>"
    }

    function showAnswers(){
        var answersDiv = document.getElementById("answersHolder")
        console.log(answersDiv.className)
        if(answersDiv.className == "hideAnswers"){
            var answersList = document.getElementById("answersList").value.split("---");
            var htmlToAppend = "<h2>Answers</h2>";
            for(var i = 1; i<=answersList.length; i++){
                htmlToAppend += "<p>"+i+". "+answersList[i-1]+" </p>";
            }
            answersDiv.innerHTML = htmlToAppend;
            answersDiv.className = "";
        }
        else if(answersDiv.className == ""){
            answersDiv.className = "hideAnswers";
        }
    }
</script>
</body>
</html> 